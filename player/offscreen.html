<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <style>
        body, html{
            background-color:#fff;
            margin: 0px;
            height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
        }

        #lottie{
            background-color:#ccc;
            width:100%;
            height:100%;
            display:block;
            overflow: hidden;
            transform: translate3d(0,0,0);
            /*display:none;*/
        }

    </style>
    <!-- build:js lottie.js -->

    <!-- end Expressions -->
    <!-- endbuild -->
    <!-- <script src="js/module.js" ></script> -->
    <!-- <script src="lottie.js"></script> -->
    <!-- <script src="bodymovin_light.js"></script> -->



</head>
<body>
  <canvas id="lottie-canvas"> </canvas>
  <script>
    setTimeout(() => {
        const worker = new Worker('js/module_worker_dev.js');
        const offscreen = document.getElementById('lottie-canvas').transferControlToOffscreen();

        let animationData = null;
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/1229210/waypointanim1.json', true);
        xhr.responseType = 'json';
        xhr.send();
        xhr.onreadystatechange = function() {
        if (xhr.readyState == 4) {
            if (xhr.status == 200) {
            animationData = xhr.response;
            console.log(animationData);
            worker.postMessage({canvas: offscreen, animData: animationData}, [offscreen]);
            }
        }
        };
    }, 1000);

  </script>
</body>

</html>